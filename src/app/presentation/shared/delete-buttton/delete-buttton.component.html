<button mat-button color="warn" (click)="canDelete ? deleteSomething() : prepareForDelete()">
    <mat-icon>delete</mat-icon>
    <span *ngIf="canDelete">Delete</span>
</button>
<button mat-button *ngIf="canDelete" (click)="cancel()">
    Cancel
</button>